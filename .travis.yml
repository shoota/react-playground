sudo: false
cache:
  yarn: true
  directories:
  - node_modules
language: node_js
node_js: lts/*
env:
  global:
  - secure: TbT56GuFHGgY/c7gNLszrY4mcjlijHczkYvOLFeV2toEnEecGnBp/v3XYAys5pRxpfe3zTQzMZBxFm5r8fX57HpjQU1OYuxMgnX9JoFQ0HjBngboVGxAPuG6FpAp82urkP7gF4gKTZZ6zohC24qJXgiA+JDXtRoTfLAgC0oHS8SLso+IAP6RoaHt/+ncy7Sh78EDrXVzWGGiRRni0n6tuo2IX4joSDPeRIl2Yk/B/Z8Gl4PmqPhFsH90u00Ln9bfxaNsiIxYLJAdHKKW8HD07XnXFhuMf5GIPR+m81S5FyqchKROgix3dGSm+WUVa90nGVsCgtbwrnEbBWg4E9l/uWi20mMGBkP8miYAkGeCFoiZcfsiTWy7ux1dmwsnwIRM6Z+nOQDvZuRW1CKef2umqVPwkeIeuhduY3hVlah9tQl9qmBh+RyvCIb7NsgIdwO7rOOnsVJrzioILhPty9fUty9mfDfZ16WuaGiJFv6z99qWv+boV2o7ilWeUIX6fm5oPc4dlAya8NwmAZ2TTvsEs+dq0GTmfbCJxhbbRMLGNb7DLyU8Dr6AgSDkLSZ78ZPRFc+jFI4jTpOJ5t4JFFpsGbO5/wjww3HQW0hELD9r7cRAMrPTJXxwKNLrOgFJmactd1GK54ZWtCHLkipbAYfc2oqT5Vh9xj/ZPSYou9Tk+RM=
stages:
- test
- name: deploy
jobs:
  include:
  - stage: test
    env: lint
    script:
    - yarn lint
  - stage: test
    env: Test
    script:
    - yarn test
  - stage: deploy
    env: gh-page
    script:
    - yarn build-storybook
    deploy:
      provider: pages
      skip-cleanup: true
      github-token: "$GITHUB_TOKEN"
      keep-history: true
      local-dir: storybook-static
      on:
        branch: master
